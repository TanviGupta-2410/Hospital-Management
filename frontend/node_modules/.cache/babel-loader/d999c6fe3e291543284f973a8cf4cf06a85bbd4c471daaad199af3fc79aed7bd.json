{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import Sidebar from\"../../components/Sidebar/Sidebar\";import LoadingSpinner from\"../../components/LoadingSpinner/LoadingSpinner\";import{handleError,handleSuccess}from\"../../utils\";import{ToastContainer}from\"react-toastify\";import\"./MedicalHistory.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MedicalHistory=()=>{var _patient$name;const{patientId}=useParams();const[loading,setLoading]=useState(false);const[patient,setPatient]=useState(null);const[medicalHistory,setMedicalHistory]=useState([]);const[showModal,setShowModal]=useState(false);const[editingRecord,setEditingRecord]=useState(null);const[activeTab,setActiveTab]=useState(\"history\");const[historyForm,setHistoryForm]=useState({date:\"\",diagnosis:\"\",symptoms:\"\",treatment:\"\",prescription:\"\",doctorName:\"\",notes:\"\",followUpDate:\"\",attachments:[]});useEffect(()=>{if(patientId){fetchPatient();fetchMedicalHistory();}},[patientId]);const fetchPatient=async()=>{setLoading(true);try{const token=localStorage.getItem(\"token\");const response=await fetch(`http://localhost:8080/api/patients/${patientId}`,{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setPatient(data);}else{handleError(\"Failed to fetch patient details\");}}catch(error){console.error(\"Fetch patient error:\",error);handleError(\"Error loading patient details\");}finally{setLoading(false);}};const fetchMedicalHistory=async()=>{setLoading(true);try{const token=localStorage.getItem(\"token\");const response=await fetch(`http://localhost:8080/api/medical-history/${patientId}`,{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setMedicalHistory(data);}else{handleError(\"Failed to fetch medical history\");}}catch(error){console.error(\"Fetch medical history error:\",error);handleError(\"Error loading medical history\");}finally{setLoading(false);}};const handleInputChange=e=>{const{name,value}=e.target;setHistoryForm(prev=>({...prev,[name]:value}));};const handleFileChange=e=>{const files=Array.from(e.target.files);setHistoryForm(prev=>({...prev,attachments:files}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const formData=new FormData();formData.append(\"patientId\",patientId);Object.keys(historyForm).forEach(key=>{if(key===\"attachments\"){historyForm.attachments.forEach(file=>{formData.append(\"attachments\",file);});}else{formData.append(key,historyForm[key]);}});const token=localStorage.getItem(\"token\");const url=editingRecord?`http://localhost:8080/api/medical-history/${editingRecord._id}`:\"http://localhost:8080/api/medical-history\";const method=editingRecord?\"PUT\":\"POST\";const response=await fetch(url,{method,headers:{Authorization:`Bearer ${token}`},body:formData});if(response.ok){handleSuccess(editingRecord?\"Medical record updated successfully\":\"Medical record added successfully\");setShowModal(false);setEditingRecord(null);resetForm();fetchMedicalHistory();}else{const error=await response.json();handleError(error.message||\"Operation failed\");}}catch(error){console.error(\"Submit error:\",error);handleError(\"Error saving medical record\");}finally{setLoading(false);}};const handleEdit=record=>{setEditingRecord(record);setHistoryForm({date:record.date?record.date.split(\"T\")[0]:\"\",diagnosis:record.diagnosis||\"\",symptoms:record.symptoms||\"\",treatment:record.treatment||\"\",prescription:record.prescription||\"\",doctorName:record.doctorName||\"\",notes:record.notes||\"\",followUpDate:record.followUpDate?record.followUpDate.split(\"T\")[0]:\"\",attachments:[]});setShowModal(true);};const handleDelete=async recordId=>{if(!window.confirm(\"Are you sure you want to delete this medical record?\"))return;setLoading(true);try{const token=localStorage.getItem(\"token\");const response=await fetch(`http://localhost:8080/api/medical-history/${recordId}`,{method:\"DELETE\",headers:{Authorization:`Bearer ${token}`}});if(response.ok){handleSuccess(\"Medical record deleted successfully\");fetchMedicalHistory();}else{handleError(\"Failed to delete medical record\");}}catch(error){console.error(\"Delete error:\",error);handleError(\"Error deleting medical record\");}finally{setLoading(false);}};const resetForm=()=>{setHistoryForm({date:\"\",diagnosis:\"\",symptoms:\"\",treatment:\"\",prescription:\"\",doctorName:\"\",notes:\"\",followUpDate:\"\",attachments:[]});};const calculateAge=dateOfBirth=>{if(!dateOfBirth)return\"N/A\";const today=new Date();const birthDate=new Date(dateOfBirth);let age=today.getFullYear()-birthDate.getFullYear();const monthDiff=today.getMonth()-birthDate.getMonth();if(monthDiff<0||monthDiff===0&&today.getDate()<birthDate.getDate()){age--;}return age;};const calculateBMI=(height,weight)=>{if(!height||!weight)return\"N/A\";const heightInMeters=height/100;return(weight/(heightInMeters*heightInMeters)).toFixed(1);};if(loading&&!showModal){return/*#__PURE__*/_jsx(LoadingSpinner,{message:\"Loading medical history...\"});}if(!patient){return/*#__PURE__*/_jsxs(\"div\",{className:\"medical-history-container\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"medical-history-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Patient not found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"The requested patient could not be found.\"})]})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"medical-history-container\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"medical-history-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCCB Medical History\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>{setEditingRecord(null);resetForm();setShowModal(true);},children:\"Add Medical Record\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-summary-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"patient-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"patient-avatar\",children:(_patient$name=patient.name)===null||_patient$name===void 0?void 0:_patient$name.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:patient.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"patient-id\",children:[\"Patient ID: \",patient.patientId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Age:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[calculateAge(patient.dateOfBirth),\" years\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Gender:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:patient.gender})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Blood Group:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:patient.bloodGroup||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"BMI:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:calculateBMI(patient.height,patient.weight)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Contact:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:patient.contact})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Emergency Contact:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:patient.emergencyContact||\"N/A\"})]})]})]})]}),(patient.allergies||patient.chronicDiseases)&&/*#__PURE__*/_jsxs(\"div\",{className:\"medical-alerts\",children:[patient.allergies&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert-item allergies\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Allergies:\"}),\" \",patient.allergies]}),patient.chronicDiseases&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert-item chronic\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83E\\uDE7A Chronic Conditions:\"}),\" \",patient.chronicDiseases]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabs-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:`tab ${activeTab===\"history\"?\"active\":\"\"}`,onClick:()=>setActiveTab(\"history\"),children:\"Medical History\"}),/*#__PURE__*/_jsx(\"button\",{className:`tab ${activeTab===\"timeline\"?\"active\":\"\"}`,onClick:()=>setActiveTab(\"timeline\"),children:\"Timeline View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[activeTab===\"history\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"history-table-container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Diagnosis\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Symptoms\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Treatment\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Follow-up\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:medicalHistory.map(record=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(record.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"diagnosis\",children:record.diagnosis})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"symptoms\",children:record.symptoms})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"treatment\",children:record.treatment})}),/*#__PURE__*/_jsx(\"td\",{children:record.doctorName}),/*#__PURE__*/_jsx(\"td\",{children:record.followUpDate?new Date(record.followUpDate).toLocaleDateString():\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-sm\",onClick:()=>handleEdit(record),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>handleDelete(record._id),children:\"Delete\"})]})})]},record._id))})]}),medicalHistory.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No medical history found for this patient\"})})]}),activeTab===\"timeline\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-container\",children:[medicalHistory.sort((a,b)=>new Date(b.date)-new Date(a.date)).map((record,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timeline-marker\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:record.diagnosis}),/*#__PURE__*/_jsx(\"span\",{className:\"timeline-date\",children:new Date(record.date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-section\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Symptoms:\"}),/*#__PURE__*/_jsx(\"p\",{children:record.symptoms})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-section\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Treatment:\"}),/*#__PURE__*/_jsx(\"p\",{children:record.treatment})]}),record.prescription&&/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-section\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Prescription:\"}),/*#__PURE__*/_jsx(\"p\",{children:record.prescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-footer\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"doctor-name\",children:[\"Dr. \",record.doctorName]}),record.followUpDate&&/*#__PURE__*/_jsxs(\"span\",{className:\"follow-up\",children:[\"Follow-up: \",new Date(record.followUpDate).toLocaleDateString()]})]})]})]})]},record._id)),medicalHistory.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No medical history found for this patient\"})})]})]})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal medical-record-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:editingRecord?\"Edit Medical Record\":\"Add Medical Record\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>{setShowModal(false);setEditingRecord(null);resetForm();},children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"medical-record-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",className:\"form-input\",value:historyForm.date,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Doctor Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"doctorName\",className:\"form-input\",value:historyForm.doctorName,onChange:handleInputChange,placeholder:\"Dr. John Doe\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Follow-up Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"followUpDate\",className:\"form-input\",value:historyForm.followUpDate,onChange:handleInputChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Diagnosis *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"diagnosis\",className:\"form-input\",value:historyForm.diagnosis,onChange:handleInputChange,placeholder:\"Primary diagnosis\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Symptoms *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"symptoms\",className:\"form-input\",rows:\"3\",value:historyForm.symptoms,onChange:handleInputChange,placeholder:\"Describe the symptoms...\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Treatment *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"treatment\",className:\"form-input\",rows:\"3\",value:historyForm.treatment,onChange:handleInputChange,placeholder:\"Treatment provided...\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Prescription\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"prescription\",className:\"form-input\",rows:\"3\",value:historyForm.prescription,onChange:handleInputChange,placeholder:\"Medications prescribed...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Additional Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",className:\"form-input\",rows:\"2\",value:historyForm.notes,onChange:handleInputChange,placeholder:\"Any additional notes...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Attachments\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"attachments\",className:\"form-input\",onChange:handleFileChange,multiple:true,accept:\".pdf,.jpg,.jpeg,.png,.doc,.docx\"}),/*#__PURE__*/_jsx(\"small\",{className:\"file-help\",children:\"You can upload multiple files (PDF, Images, Word documents)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowModal(false);setEditingRecord(null);resetForm();},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?\"Saving...\":editingRecord?\"Update Record\":\"Add Record\"})]})]})]})})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default MedicalHistory;","map":{"version":3,"names":["useState","useEffect","useParams","Sidebar","LoadingSpinner","handleError","handleSuccess","ToastContainer","jsx","_jsx","jsxs","_jsxs","MedicalHistory","_patient$name","patientId","loading","setLoading","patient","setPatient","medicalHistory","setMedicalHistory","showModal","setShowModal","editingRecord","setEditingRecord","activeTab","setActiveTab","historyForm","setHistoryForm","date","diagnosis","symptoms","treatment","prescription","doctorName","notes","followUpDate","attachments","fetchPatient","fetchMedicalHistory","token","localStorage","getItem","response","fetch","headers","Authorization","ok","data","json","error","console","handleInputChange","e","name","value","target","prev","handleFileChange","files","Array","from","handleSubmit","preventDefault","formData","FormData","append","Object","keys","forEach","key","file","url","_id","method","body","resetForm","message","handleEdit","record","split","handleDelete","recordId","window","confirm","calculateAge","dateOfBirth","today","Date","birthDate","age","getFullYear","monthDiff","getMonth","getDate","calculateBMI","height","weight","heightInMeters","toFixed","className","children","onClick","charAt","toUpperCase","gender","bloodGroup","contact","emergencyContact","allergies","chronicDiseases","map","toLocaleDateString","length","sort","a","b","index","onSubmit","type","onChange","required","placeholder","rows","multiple","accept","disabled"],"sources":["C:/Users/kaavy/OneDrive/Desktop/Hospital-Management/frontend/src/pages/MedicalHistory/MedicalHistory.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport Sidebar from \"../../components/Sidebar/Sidebar\"\r\nimport LoadingSpinner from \"../../components/LoadingSpinner/LoadingSpinner\"\r\nimport { handleError, handleSuccess } from \"../../utils\"\r\nimport { ToastContainer } from \"react-toastify\"\r\nimport \"./MedicalHistory.css\"\r\n\r\nconst MedicalHistory = () => {\r\n  const { patientId } = useParams()\r\n  const [loading, setLoading] = useState(false)\r\n  const [patient, setPatient] = useState(null)\r\n  const [medicalHistory, setMedicalHistory] = useState([])\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [editingRecord, setEditingRecord] = useState(null)\r\n  const [activeTab, setActiveTab] = useState(\"history\")\r\n  const [historyForm, setHistoryForm] = useState({\r\n    date: \"\",\r\n    diagnosis: \"\",\r\n    symptoms: \"\",\r\n    treatment: \"\",\r\n    prescription: \"\",\r\n    doctorName: \"\",\r\n    notes: \"\",\r\n    followUpDate: \"\",\r\n    attachments: [],\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (patientId) {\r\n      fetchPatient()\r\n      fetchMedicalHistory()\r\n    }\r\n  }, [patientId])\r\n\r\n  const fetchPatient = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n      const response = await fetch(`http://localhost:8080/api/patients/${patientId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setPatient(data)\r\n      } else {\r\n        handleError(\"Failed to fetch patient details\")\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Fetch patient error:\", error)\r\n      handleError(\"Error loading patient details\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const fetchMedicalHistory = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n      const response = await fetch(`http://localhost:8080/api/medical-history/${patientId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setMedicalHistory(data)\r\n      } else {\r\n        handleError(\"Failed to fetch medical history\")\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Fetch medical history error:\", error)\r\n      handleError(\"Error loading medical history\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target\r\n    setHistoryForm((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }))\r\n  }\r\n\r\n  const handleFileChange = (e) => {\r\n    const files = Array.from(e.target.files)\r\n    setHistoryForm((prev) => ({\r\n      ...prev,\r\n      attachments: files,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n\r\n    try {\r\n      const formData = new FormData()\r\n      formData.append(\"patientId\", patientId)\r\n\r\n      Object.keys(historyForm).forEach((key) => {\r\n        if (key === \"attachments\") {\r\n          historyForm.attachments.forEach((file) => {\r\n            formData.append(\"attachments\", file)\r\n          })\r\n        } else {\r\n          formData.append(key, historyForm[key])\r\n        }\r\n      })\r\n\r\n      const token = localStorage.getItem(\"token\")\r\n      const url = editingRecord\r\n        ? `http://localhost:8080/api/medical-history/${editingRecord._id}`\r\n        : \"http://localhost:8080/api/medical-history\"\r\n\r\n      const method = editingRecord ? \"PUT\" : \"POST\"\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: formData,\r\n      })\r\n\r\n      if (response.ok) {\r\n        handleSuccess(editingRecord ? \"Medical record updated successfully\" : \"Medical record added successfully\")\r\n        setShowModal(false)\r\n        setEditingRecord(null)\r\n        resetForm()\r\n        fetchMedicalHistory()\r\n      } else {\r\n        const error = await response.json()\r\n        handleError(error.message || \"Operation failed\")\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Submit error:\", error)\r\n      handleError(\"Error saving medical record\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleEdit = (record) => {\r\n    setEditingRecord(record)\r\n    setHistoryForm({\r\n      date: record.date ? record.date.split(\"T\")[0] : \"\",\r\n      diagnosis: record.diagnosis || \"\",\r\n      symptoms: record.symptoms || \"\",\r\n      treatment: record.treatment || \"\",\r\n      prescription: record.prescription || \"\",\r\n      doctorName: record.doctorName || \"\",\r\n      notes: record.notes || \"\",\r\n      followUpDate: record.followUpDate ? record.followUpDate.split(\"T\")[0] : \"\",\r\n      attachments: [],\r\n    })\r\n    setShowModal(true)\r\n  }\r\n\r\n  const handleDelete = async (recordId) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this medical record?\")) return\r\n\r\n    setLoading(true)\r\n    try {\r\n      const token = localStorage.getItem(\"token\")\r\n      const response = await fetch(`http://localhost:8080/api/medical-history/${recordId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n\r\n      if (response.ok) {\r\n        handleSuccess(\"Medical record deleted successfully\")\r\n        fetchMedicalHistory()\r\n      } else {\r\n        handleError(\"Failed to delete medical record\")\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Delete error:\", error)\r\n      handleError(\"Error deleting medical record\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setHistoryForm({\r\n      date: \"\",\r\n      diagnosis: \"\",\r\n      symptoms: \"\",\r\n      treatment: \"\",\r\n      prescription: \"\",\r\n      doctorName: \"\",\r\n      notes: \"\",\r\n      followUpDate: \"\",\r\n      attachments: [],\r\n    })\r\n  }\r\n\r\n  const calculateAge = (dateOfBirth) => {\r\n    if (!dateOfBirth) return \"N/A\"\r\n    const today = new Date()\r\n    const birthDate = new Date(dateOfBirth)\r\n    let age = today.getFullYear() - birthDate.getFullYear()\r\n    const monthDiff = today.getMonth() - birthDate.getMonth()\r\n\r\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\r\n      age--\r\n    }\r\n\r\n    return age\r\n  }\r\n\r\n  const calculateBMI = (height, weight) => {\r\n    if (!height || !weight) return \"N/A\"\r\n    const heightInMeters = height / 100\r\n    return (weight / (heightInMeters * heightInMeters)).toFixed(1)\r\n  }\r\n\r\n  if (loading && !showModal) {\r\n    return <LoadingSpinner message=\"Loading medical history...\" />\r\n  }\r\n\r\n  if (!patient) {\r\n    return (\r\n      <div className=\"medical-history-container\">\r\n        <Sidebar />\r\n        <div className=\"medical-history-content\">\r\n          <div className=\"error-message\">\r\n            <h2>Patient not found</h2>\r\n            <p>The requested patient could not be found.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"medical-history-container\">\r\n      <Sidebar />\r\n      <div className=\"medical-history-content\">\r\n        <div className=\"page-header\">\r\n          <h1>📋 Medical History</h1>\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            onClick={() => {\r\n              setEditingRecord(null)\r\n              resetForm()\r\n              setShowModal(true)\r\n            }}\r\n          >\r\n            Add Medical Record\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"patient-summary-card\">\r\n          <div className=\"patient-header\">\r\n            <div className=\"patient-avatar\">{patient.name?.charAt(0).toUpperCase()}</div>\r\n            <div className=\"patient-details\">\r\n              <h2>{patient.name}</h2>\r\n              <p className=\"patient-id\">Patient ID: {patient.patientId}</p>\r\n              <div className=\"patient-info-grid\">\r\n                <div className=\"info-item\">\r\n                  <span className=\"label\">Age:</span>\r\n                  <span className=\"value\">{calculateAge(patient.dateOfBirth)} years</span>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                  <span className=\"label\">Gender:</span>\r\n                  <span className=\"value\">{patient.gender}</span>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                  <span className=\"label\">Blood Group:</span>\r\n                  <span className=\"value\">{patient.bloodGroup || \"N/A\"}</span>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                  <span className=\"label\">BMI:</span>\r\n                  <span className=\"value\">{calculateBMI(patient.height, patient.weight)}</span>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                  <span className=\"label\">Contact:</span>\r\n                  <span className=\"value\">{patient.contact}</span>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                  <span className=\"label\">Emergency Contact:</span>\r\n                  <span className=\"value\">{patient.emergencyContact || \"N/A\"}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {(patient.allergies || patient.chronicDiseases) && (\r\n            <div className=\"medical-alerts\">\r\n              {patient.allergies && (\r\n                <div className=\"alert-item allergies\">\r\n                  <strong>⚠️ Allergies:</strong> {patient.allergies}\r\n                </div>\r\n              )}\r\n              {patient.chronicDiseases && (\r\n                <div className=\"alert-item chronic\">\r\n                  <strong>🩺 Chronic Conditions:</strong> {patient.chronicDiseases}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"tabs-container\">\r\n          <div className=\"tabs\">\r\n            <button\r\n              className={`tab ${activeTab === \"history\" ? \"active\" : \"\"}`}\r\n              onClick={() => setActiveTab(\"history\")}\r\n            >\r\n              Medical History\r\n            </button>\r\n            <button\r\n              className={`tab ${activeTab === \"timeline\" ? \"active\" : \"\"}`}\r\n              onClick={() => setActiveTab(\"timeline\")}\r\n            >\r\n              Timeline View\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"tab-content\">\r\n            {activeTab === \"history\" && (\r\n              <div className=\"history-table-container\">\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Date</th>\r\n                      <th>Diagnosis</th>\r\n                      <th>Symptoms</th>\r\n                      <th>Treatment</th>\r\n                      <th>Doctor</th>\r\n                      <th>Follow-up</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {medicalHistory.map((record) => (\r\n                      <tr key={record._id}>\r\n                        <td>{new Date(record.date).toLocaleDateString()}</td>\r\n                        <td>\r\n                          <div className=\"diagnosis\">{record.diagnosis}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"symptoms\">{record.symptoms}</div>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"treatment\">{record.treatment}</div>\r\n                        </td>\r\n                        <td>{record.doctorName}</td>\r\n                        <td>{record.followUpDate ? new Date(record.followUpDate).toLocaleDateString() : \"N/A\"}</td>\r\n                        <td>\r\n                          <div className=\"action-buttons\">\r\n                            <button className=\"btn btn-secondary btn-sm\" onClick={() => handleEdit(record)}>\r\n                              Edit\r\n                            </button>\r\n                            <button className=\"btn btn-danger btn-sm\" onClick={() => handleDelete(record._id)}>\r\n                              Delete\r\n                            </button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n\r\n                {medicalHistory.length === 0 && (\r\n                  <div className=\"no-data\">\r\n                    <p>No medical history found for this patient</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"timeline\" && (\r\n              <div className=\"timeline-container\">\r\n                {medicalHistory\r\n                  .sort((a, b) => new Date(b.date) - new Date(a.date))\r\n                  .map((record, index) => (\r\n                    <div key={record._id} className=\"timeline-item\">\r\n                      <div className=\"timeline-marker\"></div>\r\n                      <div className=\"timeline-content\">\r\n                        <div className=\"timeline-header\">\r\n                          <h3>{record.diagnosis}</h3>\r\n                          <span className=\"timeline-date\">{new Date(record.date).toLocaleDateString()}</span>\r\n                        </div>\r\n                        <div className=\"timeline-body\">\r\n                          <div className=\"timeline-section\">\r\n                            <strong>Symptoms:</strong>\r\n                            <p>{record.symptoms}</p>\r\n                          </div>\r\n                          <div className=\"timeline-section\">\r\n                            <strong>Treatment:</strong>\r\n                            <p>{record.treatment}</p>\r\n                          </div>\r\n                          {record.prescription && (\r\n                            <div className=\"timeline-section\">\r\n                              <strong>Prescription:</strong>\r\n                              <p>{record.prescription}</p>\r\n                            </div>\r\n                          )}\r\n                          <div className=\"timeline-footer\">\r\n                            <span className=\"doctor-name\">Dr. {record.doctorName}</span>\r\n                            {record.followUpDate && (\r\n                              <span className=\"follow-up\">\r\n                                Follow-up: {new Date(record.followUpDate).toLocaleDateString()}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n\r\n                {medicalHistory.length === 0 && (\r\n                  <div className=\"no-data\">\r\n                    <p>No medical history found for this patient</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {showModal && (\r\n          <div className=\"modal-overlay\">\r\n            <div className=\"modal medical-record-modal\">\r\n              <div className=\"modal-header\">\r\n                <h2>{editingRecord ? \"Edit Medical Record\" : \"Add Medical Record\"}</h2>\r\n                <button\r\n                  className=\"close-btn\"\r\n                  onClick={() => {\r\n                    setShowModal(false)\r\n                    setEditingRecord(null)\r\n                    resetForm()\r\n                  }}\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n\r\n              <form onSubmit={handleSubmit} className=\"medical-record-form\">\r\n                <div className=\"form-grid\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Date *</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"date\"\r\n                      className=\"form-input\"\r\n                      value={historyForm.date}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Doctor Name *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"doctorName\"\r\n                      className=\"form-input\"\r\n                      value={historyForm.doctorName}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"Dr. John Doe\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Follow-up Date</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      name=\"followUpDate\"\r\n                      className=\"form-input\"\r\n                      value={historyForm.followUpDate}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Diagnosis *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"diagnosis\"\r\n                    className=\"form-input\"\r\n                    value={historyForm.diagnosis}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Primary diagnosis\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Symptoms *</label>\r\n                  <textarea\r\n                    name=\"symptoms\"\r\n                    className=\"form-input\"\r\n                    rows=\"3\"\r\n                    value={historyForm.symptoms}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Describe the symptoms...\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Treatment *</label>\r\n                  <textarea\r\n                    name=\"treatment\"\r\n                    className=\"form-input\"\r\n                    rows=\"3\"\r\n                    value={historyForm.treatment}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Treatment provided...\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Prescription</label>\r\n                  <textarea\r\n                    name=\"prescription\"\r\n                    className=\"form-input\"\r\n                    rows=\"3\"\r\n                    value={historyForm.prescription}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Medications prescribed...\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Additional Notes</label>\r\n                  <textarea\r\n                    name=\"notes\"\r\n                    className=\"form-input\"\r\n                    rows=\"2\"\r\n                    value={historyForm.notes}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Any additional notes...\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Attachments</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"attachments\"\r\n                    className=\"form-input\"\r\n                    onChange={handleFileChange}\r\n                    multiple\r\n                    accept=\".pdf,.jpg,.jpeg,.png,.doc,.docx\"\r\n                  />\r\n                  <small className=\"file-help\">You can upload multiple files (PDF, Images, Word documents)</small>\r\n                </div>\r\n\r\n                <div className=\"form-actions\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={() => {\r\n                      setShowModal(false)\r\n                      setEditingRecord(null)\r\n                      resetForm()\r\n                    }}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n                    {loading ? \"Saving...\" : editingRecord ? \"Update Record\" : \"Add Record\"}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MedicalHistory\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}